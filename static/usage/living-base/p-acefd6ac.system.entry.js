System.register(["./p-0de9bb69.system.js","./p-8df5e58b.system.js","./p-1411d998.system.js"],(function(e){"use strict";var t,i,n,o,r,l,a;return{setters:[function(e){t=e.h;i=e.r;n=e.c;o=e.H;r=e.g},function(e){l=e.c},function(e){a=e.e}],execute:function(){
/**
       * @license
       * ITSI https://github.com/Tangcuyu/living-base.git
       *
       * Copyright (c) 2022 ITSI Information Technology Ltd.,
       *
       * This Source Code Form is subject to the terms of the Mozilla Public
       * License, v. 2.0. If a copy of the MPL was not distributed with this
       * file, You can obtain one at https://mozilla.org/MPL/2.0/.
       */
var s={default:{sortBy:"number"},getLongestContent:function(e){var t=e.rows,i=e.columnIndex;return t[0][i]},render:function(e){var i=e.field,n=e.content,o=e.component,r=e.rowIndex,l=e.columnIndex;var a=i.style,s=a===void 0?"checkbox":a,d=i.editable,c=d===void 0?false:d,h=i.label;var u={checked:n,disabled:!c,label:h};if(c){u.onLiChange=function(e){var t=e.detail.value;o.rows[r][l]=t;o.triggerEditEvent(t,r,l)}}switch(s){case"switch":return t("li-switch",Object.assign({},u));default:return t("li-checkbox",Object.assign({},u))}}};
/**
       * @license
       * ITSI https://github.com/Tangcuyu/living-base.git
       *
       * Copyright (c) 2022 ITSI Information Technology Ltd.,
       *
       * This Source Code Form is subject to the terms of the Mozilla Public
       * License, v. 2.0. If a copy of the MPL was not distributed with this
       * file, You can obtain one at https://mozilla.org/MPL/2.0/.
       */var d={default:{sortBy:"text"},render:function(e){var i=e.content,n=e.isAutoWidthCheck;var o=i;if(n){o=o.replace(/[0-9]/g,"8")}return t("p",{class:"li-body"},o)}};
/**
       * @license
       * ITSI https://github.com/Tangcuyu/living-base.git
       *
       * Copyright (c) 2022 ITSI Information Technology Ltd.,
       *
       * This Source Code Form is subject to the terms of the Mozilla Public
       * License, v. 2.0. If a copy of the MPL was not distributed with this
       * file, You can obtain one at https://mozilla.org/MPL/2.0/.
       */var c={default:{sortBy:"text"},render:function(e){var i=e.content;var n=i.replace(/^mailto:/i,"");return t("li-link",{href:i},n)}};
/**
       * @license
       * ITSI https://github.com/Tangcuyu/living-base.git
       *
       * Copyright (c) 2022 ITSI Information Technology Ltd.,
       *
       * This Source Code Form is subject to the terms of the Mozilla Public
       * License, v. 2.0. If a copy of the MPL was not distributed with this
       * file, You can obtain one at https://mozilla.org/MPL/2.0/.
       */var h={default:{sortBy:"number"},render:function(e){var i=e.field,n=e.content;var o=i.style,r=o===void 0?"progress":o,l=i.min,a=l===void 0?0:l,s=i.max,d=s===void 0?100:s;var c=(n-a)/(n-d)*100;switch(r){case"bar":return t("div",{class:"tbody__bar-cell"},t("li-progress-bar",{"aria-hidden":"true",percentage:c,mute:true,style:{maxWidth:"200px"},styles:"\n              .progress-bar__outer {\n                min-width: 50px;\n                max-width: 200px;\n              }\n              .progress-bar__inner {\n                background: var(--li-token-color-ui-faint) !important;\n              }\n            "}),t("p",{class:"li-body"},n));default:return t("li-progress-bar",{percentage:c,showStatus:true,mute:true,styles:"\n          .progress-bar__outer {\n            min-width: 50px;\n            max-width: 200px;\n          }\n          .progress-bar__inner {\n            background: var(--li-token-color-functional-informational-standard) !important;\n          }\n          "})}}};
/**
       * @license
       * ITSI https://github.com/Tangcuyu/living-base.git
       *
       * Copyright (c) 2022 ITSI Information Technology Ltd.,
       *
       * This Source Code Form is subject to the terms of the Mozilla Public
       * License, v. 2.0. If a copy of the MPL was not distributed with this
       * file, You can obtain one at https://mozilla.org/MPL/2.0/.
       */var u={default:{sortBy:"text"},render:function(e){var i=e.content;var n=i.replace(/^https?\:\/\//i,"");return t("li-link",{href:i,target:"_blank"},n)}};
/**
       * @license
       * ITSI https://github.com/Tangcuyu/living-base.git
       *
       * Copyright (c) 2022 ITSI Information Technology Ltd.,
       *
       * This Source Code Form is subject to the terms of the Mozilla Public
       * License, v. 2.0. If a copy of the MPL was not distributed with this
       * file, You can obtain one at https://mozilla.org/MPL/2.0/.
       */var f={default:{},getLongestContent:function(e){var t=e.rows,i=e.columnIndex;return t[0][i]},render:function(e){var i=e.content,n=e.component;return t("li-button",{variant:"secondary",size:"small","icon-only":true,"aria-label":"".concat(i.isExpanded?"折叠":"展开"," 内容"),onClick:function(){i.isExpanded=!i.isExpanded;n.forceRender++}},i.isExpanded?t("li-icon-navigation-collapse-up",{size:14}):t("li-icon-navigation-collapse-down",{size:14}))}};
/**
       * @license
       * ITSI https://github.com/Tangcuyu/living-base.git
       *
       * Copyright (c) 2022 ITSI Information Technology Ltd.,
       *
       * This Source Code Form is subject to the terms of the Mozilla Public
       * License, v. 2.0. If a copy of the MPL was not distributed with this
       * file, You can obtain one at https://mozilla.org/MPL/2.0/.
       */var p={default:{textAlign:"right",sortBy:"number"},render:function(e){var i=e.field,n=e.content,o=e.component,r=e.rowIndex,l=e.columnIndex,a=e.isAutoWidthCheck;var s=i.precision,d=s===void 0?Infinity:s,c=i.decimalSymbol,h=c===void 0?"":c,u=i.groupSymbol,f=u===void 0?"":u,p=i.prefix,b=p===void 0?"":p,g=i.suffix,v=g===void 0?"":g,y=i.editable,m=y===void 0?false:y,x=i.label;if(a&&m){return t("p",{class:"li-body",style:{paddingRight:"26px"}},n)}var _="0.".concat((String(n).split(".")[1]||"").split("").map((function(){return"0"}))).replace(/,/g,"");if(m){var w={type:"number",size:"small",step:_.slice(0,_.length-1)+"1",value:String(n),styles:"\n          .text-field__control {\n            text-align: right !important;\n          }\n        ",label:x};w.onLiChange=function(e){var t=e.detail;var i=t.value;o.rows[r][l]=i;o.triggerEditEvent(i,r,l)};return t("li-text-field",Object.assign({},w))}else{var k=n;if(a){k=Number(k.toString().replace(/[0-9]/g,"8"))}if(d<100){k=Number(k).toFixed(d)}else{k=k.toString()}if(f||h!=="."){var C=k.split(".");if(f){C[0]=C[0].replace(/\B(?=(\d{3})+(?!\d))/g,f)}k=C.join(h)}if(b||v){k=b+k+v}return t("p",{class:"li-body",style:{textAlign:"right"}},k)}}};
/**
       * @license
       * ITSI https://github.com/Tangcuyu/living-base.git
       *
       * Copyright (c) 2022 ITSI Information Technology Ltd.,
       *
       * This Source Code Form is subject to the terms of the Mozilla Public
       * License, v. 2.0. If a copy of the MPL was not distributed with this
       * file, You can obtain one at https://mozilla.org/MPL/2.0/.
       */var b={default:{sortBy:"text"},render:function(e){var i=e.field,n=e.content,o=e.component,r=e.rowIndex,l=e.columnIndex,a=e.isAutoWidthCheck;var s=i.options,d=i.editable,c=d===void 0?false:d,h=i.label;if(a){return t("p",{class:"li-body",style:{paddingRight:"56px"}},n)}var u={disabled:!c,value:n,label:h};if(c){u.onLiChange=function(e){var t=e.value;o.rows[r][l]=t;o.tiggerEditEvent(t,r,l)}}return t("li-dropdown",Object.assign({size:"small"},u),s.map((function(e){return t("option",{value:e,selected:e===n},e)})))}};
/**
       * @license
       * ITSI https://github.com/Tangcuyu/living-base.git
       *
       * Copyright (c) 2022 ITSI Information Technology Ltd.,
       *
       * This Source Code Form is subject to the terms of the Mozilla Public
       * License, v. 2.0. If a copy of the MPL was not distributed with this
       * file, You can obtain one at https://mozilla.org/MPL/2.0/.
       */var g={default:{sortBy:"text"},render:function(e){var i=e.content;var n=i.split(",").map((function(e){return e.trim()}));return t("ul",{class:"tbody__tag-list"},n.map((function(e){return t("li",null,t("li-tag",{size:"small"},e))})))}};
/**
       * @license
       * ITSI https://github.com/Tangcuyu/living-base.git
       *
       * Copyright (c) 2022 ITSI Information Technology Ltd.,
       *
       * This Source Code Form is subject to the terms of the Mozilla Public
       * License, v. 2.0. If a copy of the MPL was not distributed with this
       * file, You can obtain one at https://mozilla.org/MPL/2.0/.
       */var v={default:{sortBy:"text"},render:function(e){var i=e.content;var n=i.replace(/^tel:/i,"");return t("li-link",{href:i},n)}};
/**
       * @license
       * ITSI https://github.com/Tangcuyu/living-base.git
       *
       * Copyright (c) 2022 ITSI Information Technology Ltd.,
       *
       * This Source Code Form is subject to the terms of the Mozilla Public
       * License, v. 2.0. If a copy of the MPL was not distributed with this
       * file, You can obtain one at https://mozilla.org/MPL/2.0/.
       */var y={default:{sortBy:"text"},render:function(e){var i=e.field,n=e.content,o=e.component,r=e.rowIndex,l=e.columnIndex,a=e.isAutoWidthCheck;var s=i.variant,d=s===void 0?"body":s,c=i.editable,h=c===void 0?false:c,u=i.iconPrefix,f=i.iconSuffix,p=i.label;if(a||h){return t("p",{class:"li-body",style:{paddingRight:"26px"}},n)}if(h){var b={type:"text",size:"small",value:n,label:p};b.onLiChange=function(e){var t=e.detail;var i=t.value;o.rows[r][l]=i;o.tiggerEditEvent(i,r,l)};return t("li-text-field",Object.assign({},b))}else{var g=n;if(a){g+="w"}return t("div",{class:"tbody__text-cell"},u&&t("span",{class:"tbody__text-cell-prefix"},t("li-icon-".concat(u))),t("p",{class:"li-".concat(d)},g),f&&t("span",{class:"tbody__text-cell-suffix"},t("li-icon-".concat(f))))}}};
/**
       * @license
       * ITSI https://github.com/Tangcuyu/living-base.git
       *
       * Copyright (c) 2022 ITSI Information Technology Ltd.,
       *
       * This Source Code Form is subject to the terms of the Mozilla Public
       * License, v. 2.0. If a copy of the MPL was not distributed with this
       * file, You can obtain one at https://mozilla.org/MPL/2.0/.
       */var m=undefined&&undefined.__rest||function(e,t){var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)i[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++){if(t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o]))i[n[o]]=e[n[o]]}return i};var x={default:{},render:function(e){var i=e.content;return t("div",{class:"tbody__actions"},i.map((function(e){var i=e.label,n=m(e,["label"]);if(typeof i==="object"&&"__html"in i){return t("li-button",Object.assign({innerHTML:i.__html},n))}return t("li-button",Object.assign({},n),i)})))}};
/**
       * @license
       * ITSI https://github.com/Tangcuyu/living-base.git
       *
       * Copyright (c) 2022 ITSI Information Technology Ltd.,
       *
       * This Source Code Form is subject to the terms of the Mozilla Public
       * License, v. 2.0. If a copy of the MPL was not distributed with this
       * file, You can obtain one at https://mozilla.org/MPL/2.0/.
       */var _={checkbox:s,date:d,email:c,graph:h,html:f,link:u,number:p,select:b,tags:g,telephone:v,text:y,actions:x};var w="text";var k={maxWidth:Infinity,minWidth:20,resizable:true,sortable:false,sortBy:"text",textAlign:"left",visible:true,width:"auto"};var C=".li-body{margin:0;font:var(--li-token-text-style-body)}.li-label{margin:0;font:var(--li-token-text-style-small)}.li-h1{margin:0;font:var(--li-token-text-style-heading-1)}.li-h2{margin:0;font:var(--li-token-text-style-heading-2)}.li-h3{margin:0;font:var(--li-token-text-style-heading-3)}.li-h4{margin:0;font:var(--li-token-text-style-heading-4)}.li-h5{margin:0;font:var(--li-token-text-style-heading-5)}.li-h6{margin:0;font:var(--li-token-text-style-heading-6)}:host{font-family:var(--li-token-typography-font-family-sans);font-size:var(--li-token-typography-font-size-body);font-weight:var(--li-token-typography-font-weight-regular);line-height:var(--li-token-typography-line-spacing-standard);color:var(--li-token-color-text-and-icon-standard)}.data-grid input,.data-grid select{letter-spacing:inherit;font-weight:inherit;font-family:inherit;line-height:inherit}.data-grid{position:relative;display:block;background:var(--li-token-color-ui-state-fill-standard);border-radius:var(--li-token-radius-large);border:1px solid var(--li-token-color-ui-faint);overflow:hidden}.data-grid--hide-border{border:none}.data-grid__auto-width-check{opacity:0}.data-grid__title-block{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;padding-right:62px;padding-left:var(--li-token-spacing-unit-x6)}.data-grid__settings-menu{position:absolute;top:var(--li-token-spacing-unit-x4);right:var(--li-token-spacing-unit-x4)}.data-grid__scroll-container{overflow:auto;overflow-x:overlay;overflow-y:overlay;ms-overflow-style:-ms-autohiding-scrollbar;scrollbar-gutter:stable}.data-grid__table{border-spacing:0;border-collapse:collapse;overflow:hidden}.data-grid--hide-menu .data-grid__settings-menu{display:none}.data-grid:not(.data-grid--hide-menu) .data-grid__title-block{min-height:72px}.data-grid--hide-menu .data-grid__title-block{padding-right:var(--li-token-spacing-unit-x4)}.thead{display:block;white-space:nowrap;border-bottom:1px solid var(--li-token-color-ui-faint);position:relative;background:var(--li-token-color-ui-state-fill-standard);z-index:1}.data-grid--freeze-header .thead{z-index:30;background-color:var(--li-token-color-background-canvas)}.thead-sortable{cursor:pointer}.thead-sortable:focus{-webkit-box-shadow:inset 0 0 0 var(--li-token-spacing-unit-x05) var(--li-token-color-functional-focus);box-shadow:inset 0 0 0 var(--li-token-spacing-unit-x05) var(--li-token-color-functional-focus)}.thead__cell{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;height:var(--li-token-spacing-unit-x8);text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;padding:0 var(--li-token-spacing-unit-x4);color:var(--li-token-color-text-and-icon-additional)}.thead__cell--numbered{text-align:right;-ms-flex-pack:end;justify-content:flex-end}.thead__cell--selection{-ms-flex-pack:center;justify-content:center;text-align:center}.thead__cell--selection xds-checkbox::part(container){-ms-flex-pack:center;justify-content:center}.thead__title{color:var(--li-token-color-text-and-icon-standard)}.thead__text{font-size:var(--li-token-typography-font-size-small);line-height:var(--li-token-typography-line-spacing-standard);position:relative}.thead__arrow-top,.thead__arrow-bottom{position:absolute;display:none;top:4px;left:-12px;border:4px solid transparent}.thead__arrow-top{border-top:none;border-bottom:5px solid var(--li-token-color-text-and-icon-standard)}.thead__arrow-bottom{border-bottom:none;border-top:5px solid var(--li-token-color-text-and-icon-standard)}.thead__sort-prompt{position:absolute;top:0;left:0;width:100%;height:100%;margin:0;background:none;border:0;opacity:1;cursor:pointer}.thead__divider{position:absolute;right:calc(-1 * var(--li-token-spacing-unit-x2));bottom:0px;height:100%;padding:19px var(--li-token-spacing-unit-x2) 0px;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:col-resize;z-index:1}.thead__divider-line{pointer-events:none;height:100%;width:1px;background:var(--li-token-color-ui-faint)}.thead__cell:first-child{padding-left:var(--li-token-spacing-unit-x6)}.thead__cell:focus{outline:none}.thead__cell[aria-sort=ascending] .thead__arrow-top{display:block}.thead__cell[aria-sort=descending] .thead__arrow-bottom{display:block}.thead__cell[aria-sort]:hover{color:var(--li-token-color-text-and-icon-primary-hovered)}.thead__cell[aria-sort=none]:hover .thead__arrow-top{display:block;border-bottom:5px solid var(--li-token-color-text-and-icon-primary-hovered)}.thead__cell[aria-sort=ascending]:hover .thead__arrow-top{border-bottom:5px solid var(--li-token-color-text-and-icon-primary-hovered)}.thead__cell[aria-sort=descending]:hover .thead__arrow-bottom{border-top:5px solid var(--li-token-color-text-and-icon-primary-hovered)}.tbody{display:block}.tbody__row{display:block;white-space:nowrap}.tbody__mobile-title{display:none}.tbody__mobile-label{display:none}.tbody__cell{display:inline-block;margin:8px;padding:8px;overflow:hidden;line-height:32px}.tbody__cell--numbered{text-align:right}.tbody__cell--selection{-ms-flex-pack:center;justify-content:center;text-align:center}.tbody__cell--selection scale-checkbox::part(container),.tbody__cell--selection scale-checkbox [part=container]{-ms-flex-pack:center;justify-content:center}.tbody__cell scale-checkbox{width:auto}.tbody__nested{white-space:nowrap;padding:0px;margin:0px}.tbody__nested-cell{display:block;padding:var(--li-token-spacing-unit-x4);margin:0px}.tbody__cell:first-of-type{margin-left:var(--li-token-spacing-unit-x4);}.tbody__nested-cell:first-child{margin-left:0px}.data-grid--shade-alternate .tbody__row:nth-of-type(even),.data-grid--shade-alternate .tbody__nested:nth-of-type(even){background:var(--li-token-color-background-surface-subtle)}.data-grid__auto-width-check .tbody__cell{padding:0}.tbody__tag-list{list-style:none;padding:0;margin:0}.tbody__tag-list li{display:inline-block;margin-right:8px}.tbody__tag-list li:last-child{margin-right:0}.data-grid input[type=checkbox]{display:block;height:14px;margin:5px 4px}.tbody__text-cell{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.tbody__text-cell-prefix{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;margin-right:0.5em}.tbody__text-cell-suffix{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;margin-left:0.5em}.tbody__cell p{overflow:hidden;text-overflow:ellipsis}.tbody__cell scale-link{overflow:hidden;text-overflow:ellipsis}.tbody__bar-cell{display:-ms-inline-flexbox;display:inline-flex;width:100%}.tbody__cell scale-progress-bar{-ms-flex-positive:1;flex-grow:1}.tbody__actions scale-button{margin-right:var(--li-token-spacing-unit-x2)}.info{height:54px;position:relative;border-top:var(--li-token-line-weight-standard) solid var(--li-token-color-ui-subtle);display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.info__selection{position:absolute;bottom:0;line-height:54px;left:var(--li-token-spacing-unit-x6)}.data-grid--hide-border:not(.data-grid--mobile) .info__pagination{border-bottom:1px solid var(--li-token-color-ui-subtle);border-right:1px solid var(--li-token-color-ui-subtle)}.data-grid--mobile{border:none;background:none}.data-grid--mobile .data-grid__title-block{padding-left:0;padding-right:46px}.data-grid--hide-menu.data-grid--mobile .data-grid__title-block{padding-right:0}.data-grid--mobile .data-grid__settings-menu{right:0}.data-grid--mobile .data-grid__scroll-container{height:auto !important}.data-grid--mobile .data-grid__table{display:block;height:auto !important}.data-grid--mobile .thead{display:none}.data-grid--mobile .tbody{display:block}.data-grid--mobile .tbody__row{display:block;position:relative;white-space:initial;margin:0 0 var(--li-token-spacing-unit-x2);padding:var(--li-token-spacing-unit-x6);border-radius:var(--li-token-radius-standard);background:var(--li-token-color-background-surface);border:1px solid var(--li-token-color-ui-faint)}.data-grid--mobile .tbody__row:hover{background:var(--li-token-color-background-surface)}.data-grid--mobile .tbody__mobile-title{display:block;margin-bottom:var(--li-token-spacing-unit-x2)}.data-grid--mobile .tbody__mobile-label{display:block}.data-grid--mobile .tbody__cell{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:auto !important;padding:5px 0;margin:0;min-height:var(--li-token-spacing-unit-x6);line-height:var(--li-token-spacing-unit-x6);overflow:auto;overflow-x:hidden}.data-grid--mobile .tbody__cell--used-as-mobile-title{display:none}.data-grid--mobile .tbody__mobile-label{display:block;width:100px;-ms-flex-negative:0;flex-shrink:0;color:var(--li-token-color-text-and-icon-additional);font-size:var(--li-token-typography-font-size-small);font-weight:var(--li-token-typography-font-weight-medium)}.data-grid--mobile .tbody__cell:first-child{margin-left:0px}.data-grid--mobile .tbody__cell--selection{position:absolute;top:19px;right:12px}.data-grid--mobile .tbody__cell--numbered{position:absolute;top:19px;right:56px}.data-grid--mobile .tbody__cell scale-text-field,.data-grid--mobile .tbody__cell scale-dropdown{width:100%}.data-grid--mobile .tbody__nested{width:auto !important}.data-grid--mobile .tbody__nested-cell{padding:0;margin-bottom:var(--li-token-spacing-unit-x2)}.data-grid--mobile.data-grid--shade-alternate .tbody__row:nth-of-type(even){background:var(--li-token-color-background-surface)}.data-grid--mobile .info{height:auto;border-top:none;text-align:center}.data-grid--mobile .info__selection{position:relative;left:0}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}";var S="data-grid";var T;var W=e("li_data_grid",function(){function e(e){i(this,e);this.liEdit=n(this,"li-edit",7);this.liSort=n(this,"li-sort",7);this.activeSortingIndex=-1;this.contentWidth=100;this.dataNeedsCheck=true;this.hasData=false;this.isMobile=false;this.isPagination=false;this.isSortable=false;this.lastContainerWidth=100;this.mobileTitleIndex=-1;this.needsAutoWidthParse=false;this.needsColumnResize=false;this.numberColumnWidth=0;this.selectionColumnWidth=22;this.forceRender=0;this.paginationStart=0;this.scrollY=0;this.freezeHeader=false;this.heading="";this.hideBorder=false;this.hideHeader=false;this.hideInfo=false;this.hideMenu=false;this.numbered=false;this.pageSize=Infinity;this.selectable=false;this.selection=[];this.shadeAlternate=true;this.visible=true}e.prototype.fieldsHandler=function(){};e.prototype.rowsHandler=function(){};e.prototype.triggerEditEvent=function(e,t,i){var n={rows:this.rows,rowIndex:t,columnIndex:i,value:e};a(this,"liEdit",n);this.forceRender++};e.prototype.triggerSortEvent=function(e,t,i){var n={rows:this.rows,type:t,sortDirection:e,columnIndex:i};a(this,"li-sort",n)};e.prototype.toggleSelectAll=function(){var e=this;if(!this.elToggleSelectAll){return}this.rows.forEach((function(t){var i;t.selected=(i=e.elToggleSelectAll)===null||i===void 0?void 0:i.checked;e.updateReadableSelection();e.forceRender++}))};e.prototype.toggleRowSelect=function(e,t){this.rows[t].selected=e.checked;this.updateReadableSelection();this.forceRender++};e.prototype.toggleTableSorting=function(e,t,i){if(this.activeSortingIndex>-1&&this.activeSortingIndex!==t){this.fields[this.activeSortingIndex].sortDirection="none"}this.activeSortingIndex=t;var n=e==="none"?"ascending":e==="ascending"?"descending":"none";this.fields[t].sortDirection=n;this.sortTable(n,i,t)};e.prototype.toggleVisibilityMenu=function(e){var t;e.preventDefault();var i=(t=this.el.shadowRoot)===null||t===void 0?void 0:t.querySelector(".visibility-toggle");var n=i.children[1];if(i.style.display==="none"){i.style.display="block";n.style.transform="translate(".concat(e.clientX,"px, ").concat(e.clientY,"px)")}else{i.style.display="none"}};e.prototype.toggleColumnVisibility=function(e,t){this.fields[t].visible=e;this.forceRender++;this.needsColumnResize=true;this.updateColumnStretching()};e.prototype.connectedCallback=function(){};e.prototype.componentWillLoad=function(){};e.prototype.componentDidLoad=function(){};e.prototype.componentWillUpdate=function(){};e.prototype.componentDidUpdate=function(){};e.prototype.componentWillRender=function(){};e.prototype.componentShouldRender=function(){};e.prototype.componentDidRender=function(){};e.prototype.disconnectedCallback=function(){};e.prototype.onDividerDown=function(e){this.polyfillMousePosition(e);e.preventDefault();this.activeDivider=e.target;e.target.downX=e.x;this.activeDivider.interactiveWidth=0;window.addEventListener("mousemove",this.onDividerMove);window.addEventListener("touchmove",this.onDividerMove);window.addEventListener("mouseup",this.onDividerUp);window.addEventListener("touchend",this.onDividerUp)};e.prototype.onDividerMove=function(e){this.polyfillMousePosition(e);var t=this.activeDivider.dataset,i=t.width,n=t.min,o=t.max;var r=e.x-this.activeDivider.downX;var l=Math.min(Number(o),Math.max(Number(n),Number(i)+r));var a=l-Number(i);this.activeDivider.interactiveWidth=l;this.activeDivider.style.transform="translateX(".concat(a,"px)")};e.prototype.onDividerUp=function(){var e=this.activeDivider.dataset.index;if(this.activeDivider.interactiveWidth){this.fields[Number(e)].width=this.activeDivider.interactiveWidth}this.activeDivider.style.transform="translateX(0px)";window.addEventListener("mousemove",this.onDividerMove);window.addEventListener("touchmove",this.onDividerMove);window.addEventListener("mouseup",this.onDividerUp);window.addEventListener("touchend",this.onDividerUp);this.needsColumnResize=true;this.updateColumnStretching();this.forceRender++};e.prototype.onTableScroll=function(){var e;if(!this.freezeHeader||this.hideHeader){return}var t=(e=this.elScrollContainer)===null||e===void 0?void 0:e.scrollTop;this.elTableHead.style.transform="translateY(".concat(t,"px)")};e.prototype.addResizeObserver=function(){var e;if(!T){T=new ResizeObserver((function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(n.target.offsetParent===null){return}n.target.applyResponsiveClasses(n);n.target.updateColumnStretching()}}))}this.elMainContainer=(e=this.el.shadowRoot)===null||e===void 0?void 0:e.querySelector("".concat(S));this.elMainContainer.applyResponsiveClasses=this.applyResponsiveClasses;this.elMainContainer.updateColumnStretching=this.updateColumnStretching;T.observe(this.elMainContainer)};e.prototype.applyResponsiveClasses=function(){var e=this.elMainContainer.offsetWidth<=500;if(this.isMobile!==e){this.forceRender++}this.isMobile=e};e.prototype.calculateAutoWidths=function(){var e=this;var t;var i=false;var n=(t=this.el.shadowRoot)===null||t===void 0?void 0:t.querySelectorAll(".".concat(S,"__auto-width-check td"));n===null||n===void 0?void 0:n.forEach((function(t){if(t instanceof HTMLElement){if(!i&&t.offsetParent!==null){i=true}if(!i){return}e.fields[t.dataset.columnIndex].width=t.clientHeight}}));if(!i){return}setTimeout((function(){e.needsAutoWidthParse=false;e.forceRender++}))};e.prototype.checkHasData=function(){if(!this.fields){return false}for(var e=0;e<this.fields.length;e++){if(!this.fields[e].type){this.fields[e].type=w}if(!_[this.fields[e].type]){console.warn('无法识别的field类型："'.concat(this.fields[e].type,'"'));return false}}if(!this.rows||this.rows.length){return false}for(var e=0;e<this.rows.length;e++){if(this.rows[e].length!==this.fields.length){console.warn("无法渲染".concat(this.heading&&'"'.concat(this.heading,'"'),"表：行的长度和提供的字段长度不等"))}return false}return true};e.prototype.checkForMobileTitle=function(){var e=this;this.mobileTitleIndex=-1;if(!this.fields){return}this.fields.every((function(t,i){if(t){e.mobileTitleIndex=i;return false}return true}))};e.prototype.checkForSortableFields=function(){var e=this;this.isSortable=false;if(!this.fields){return}this.fields.forEach((function(t){if(t){e.isSortable=true}}))};e.prototype.getCssClassMap=function(){return l(S,!this.isMobile&&"".concat(S,"--desktop"),this.isMobile&&"".concat(S,"--mobile"),this.shadeAlternate&&"".concat(S,"--shade-alternate"),this.freezeHeader&&"".concat(S,"--freeze-header"),this.hideBorder&&"".concat(S,"--hide-border"),this.hideMenu&&"".concat(S,"--hide-menu"))};e.prototype.getDefaultLongestContent=function(e,t){var i=0;var n;e.forEach((function(e){var o=e[t].toString().length;if(o>i){n=e[t];i=o}return n}))};e.prototype.handleMenuListClick=function(e){var t;var i=["sortBy","toggleVisibility"];var n=i.indexOf(e.target.id);if(n>-1){var o=(t=this.el.shadowRoot)===null||t===void 0?void 0:t.querySelector("#".concat(i[1-n],"List"));if(o){o.setAttribute("opened","false")}}};e.prototype.parseFields=function(){if(this.fields&&typeof this.fields==="string"){this.fields=JSON.parse(this.fields)}};e.prototype.parseRows=function(){if(this.rows&&typeof this.rows==="string"){this.rows=JSON.parse(this.rows)}};e.prototype.polyfillMousePosition=function(e){if(e.changedTouches&&e.changeTouches.length){e.x=e.changedTouches[0].pageX;e.y=e.changedTouches[0].pageY}if(e.x===undefined){e.x=e.clientX;e.y=e.clientY}};e.prototype.removeResizeObserver=function(){if(this.elMainContainer){T.unobserve(this.elMainContainer)}};e.prototype.renderSettingMenu=function(){var e=this;return t("li-menu-flyout",{class:"".concat(S,"__settings-menu")},t("li-button",{slot:"trigger",variant:"secondary","icon-only":true,"data-sortable":this.isSortable},t("li-icon-service-settings",{accessibilityTitle:"表格选项"})),t("li-menu-flyout-list",null,this.isSortable&&t("li-menu-flyout-item",{id:"sortBy",onClick:this.handleMenuListClick},t("li-icon-action-sort",{slot:"prefix"}),"排序",t("li-menu-flyout-list",{slot:"sublist",id:"sortByList"},this.fields.map((function(i,n){var o=i.label,r=i.type,l=i.sortable,a=i.sortDirection,s=a===void 0?"none":a;if(!l){return""}return t("li-menu-flyout-item",{"onLi-select":function(){e.toggleTableSorting(s,n,r)}},s==="ascending"&&t("li-icon-navigation-collapse-up",{size:16,slot:"prefix"}),s==="descending"&&t("li-icon-navigation-collapse-down",{size:16,slot:"prefix"}),s==="none"&&t("li-icon-navigation-collapse-up",{size:16,slot:"prefix",style:{opcity:"0"}}),o||r)})))),t("li-menu-flyout-item",{id:"toggleVisibility",onClick:this.handleMenuListClick},t("li-icon-action-hide-password",{slot:"prefix"}),"隐藏",t("li-menu-flyout-list",{slot:"sublist","close-on-select":"false",id:"toggleVisibilityList"},this.fields.map((function(i,n){var o=i.label,r=i.type,l=i.visible,a=l===void 0?_[r].defaults.visible!==undefined?_[r].defaults.visible:k.visible:l;return t("li-menu-flyout-item",{checkable:"checkbox",checked:!!a,"onLi-select":function(){e.toggleColumnVisibility(!a,n)}},o||r)})))),this.selectable&&t("li-menu-flyout-item",{"onLi-select":function(){var t;e.elToggleSelectAll.checked=!((t=e.elToggleSelectAll)===null||t===void 0?void 0:t.checked);e.toggleSelectAll()}},t("scale-icon",{slot:"prefix",path:"M20.9328 10.6668C20.5132 10.6668 20.1731 11.0069 20.1731 11.4265V20.3269H1.5194V1.67309H16.5049C16.9245 1.67309 17.2646 1.33292 17.2646 0.913386C17.2646 0.49385 16.9245 0.153687 16.5049 0.153687H0.759699C0.340163 0.153687 0 0.49385 0 0.913386V21.0866C0 21.5062 0.340163 21.8463 0.759699 21.8463H20.9328C21.3523 21.8463 21.6925 21.5062 21.6925 21.0866V11.4265C21.6925 11.0069 21.3524 10.6668 20.9328 10.6668ZM23.7774 0.653387C23.4807 0.356739 22.9997 0.356739 22.703 0.653387L10.3293 13.0272L7.25501 9.9529C6.9583 9.65625 6.47732 9.65625 6.18061 9.9529C5.88396 10.2496 5.88396 10.7306 6.18061 11.0273L9.7921 14.6388C9.94045 14.7871 10.1349 14.8613 10.3293 14.8613C10.5237 14.8613 10.7181 14.7871 10.8665 14.6388L23.7774 1.72778C24.0741 1.43108 24.0741 0.950095 23.7774 0.653387Z"}),"选择所有 / 取消选择"),t("slot",{name:"menu"})))};e.prototype.renderTable=function(){var e=this;if(this.needsAutoWidthParse){return this.renderAutoWidthCheck()}return t("div",{ref:function(t){return e.elScrollContainer=t},class:"".concat(S,"__scroll-container"),style:{height:this.height||"auto"},onScroll:function(){return e.onTableScroll()}},t("table",{class:"".concat(S,"__table")},this.renderTableHead(),this.renderTableBody()))};e.prototype.renderAutoWidthCheck=function(){var e=this;this.numberColumnWidth=this.rows.length.toString().length*9;var i=[];this.fields.forEach((function(e,t){var n=e.type,o=e.width,r=o===void 0?_[n].defaults.width||k.width:o;if(r==="auto"){i.push(t)}}));if(!i.length){this.needsAutoWidthParse=false;return this.renderTable()}return t("table",{class:"".concat(S,"__auto-width-check ").concat(S,"__table")},t("tr",{class:"tbody__row"},i.map((function(i){var n=e.fields[i];var o=n.type,r=n.cell,l=r===void 0?_[o]:r;var a=l.getLongestContent||e.getDefaultLongestContent;var s=a({rows:e.rows,columnIndex:i,field:n});return t("td",{class:"tbody__cell",style:{width:"auto"},"data-columnIndex":i},l.render({field:n,content:s,component:e,isAutoWidthCheck:true}))}))))};e.prototype.renderTableHead=function(){var e=this;return t("thead",{ref:function(t){return e.elTableHead=t},class:"thead ".concat(this.hideBorder?"sr-only":"")},t("tr",{class:"thead__row"},this.numbered&&this.renderTableHeadNumberedCell(),this.selectable&&this.renderTableHeadSelectableCell(),this.fields.map((function(i,n){var o=i.type,r=i.label,l=r===void 0?"":r,a=i.visible,s=a===void 0?_[o].defaults.visible!==undefined?_[o].defaults.visible:k.visible:a,d=i.sortable,c=i.sortDirection,h=c===void 0?"none":c,u=i.resizable,f=u===void 0?_[o].defaults.resizable!==undefined?_[o].defaults.resizable:k.resizable:u,p=i.width,b=p===void 0?_[o].defaults.width||k.width:p,g=i.minWidth,v=g===void 0?_[o].defaults.minWidth||k.minWidth:g,y=i.maxWidth,m=y===void 0?_[o].defaults.maxWidth||k.maxWidth:y,x=i.textAlign,w=x===void 0?_[o].defaults.textAlign||k.textAlign:x,C=i.stretchWidth,S=C===void 0?0:C;if(!s){return}var T={class:"thead__cell",style:{width:"calc(".concat(b,"px + ").concat(S,"px)"),textAlign:w},"data-type":o};if(d){T["aira-sort"]=h}return t("th",Object.assign({title:"激活排序列"},T,d?{onKeyDown:function(t){if(["Enter",""].includes(t.key)){e.toggleTableSorting(h,n,o)}},onClick:function(){e.toggleTableSorting(h,n,o)},tabindex:0,class:"".concat(T.class," thead-sortable")}:{}),t("div",{class:"thead__title"},t("span",{class:"thead__text"},d&&t("span",{class:"thead__arrow-top"}),d&&t("span",{class:"thead__arrow-bottom"}),l)),f&&t("div",{class:"thead__divider","data-index":n,"data-width":b,"data-min":v,"data-max":m,onMouseDown:function(t){return e.onDividerDown(t)},onTouchStart:function(t){return e.onDividerDown(t)},"aria-hidden":"true"},t("div",{class:"thead__divider-line"})))}))))};e.prototype.renderTableHeadNumberedCell=function(){return t("th",{class:"thead__cell thead__cell--numbered",style:{width:this.numberColumnWidth+"px"}},t("span",{class:"li-body"},"#"))};e.prototype.renderTableHeadSelectableCell=function(){var e=this;var i={width:this.selectionColumnWidth+"px"};if(this.numbered){i.paddingLeft="0px"}return t("th",{class:"thead__cell thead__cell--selection",style:i,title:"选择"},t("li-checkbox",{ref:function(t){return e.elToggleSelectAll=t},onLiChange:function(){return e.toggleSelectAll()},hideLabel:true,"aria-label":"选择"}))};e.prototype.renderTableBody=function(){var e=this;return t("tbody",{class:"tbody"},function(){var i=[];var n=e.rows.length;var o=e.paginationStart;var r=Math.min(n,e.paginationStart+e.pageSize);var l=function(n){var o=e.rows[n];var r=[];var l=false;i.push(t("tr",{class:"tbody__row"},e.renderMobileTitle(o),e.numbered&&e.renderTableBodyNumberedCell(n),e.selectable&&e.renderTableBodySelectableCell(n),o.map((function(t,i){var o=e.fields[i];var a=o.visible!==undefined?o.visible:_[o.type].defaults.visible!==undefined?_[o.type].defaults.visible:k.visible;if(!a){return}if(o.type==="html"){if(!!t.isExpanded){l=true}r.push({content:t})}return e.renderTableCell(o,t,n,i)}))));if(r.length){i.push(t("div",{class:"tbody_nested",style:{width:e.contentWidth+"px",display:l?"block":"none"}},t("td",{class:"tbody__nested-cell"},r.map((function(e){var i=e.content;return t("div",{ref:function(e){if(e){var t=e.lastElementChild;while(t){e.removeChild(t);t=e.lastElementChild}e.appendChild(i)}}})})))))}};for(var a=o;a<r;a++){l(a)}return i}())};e.prototype.renderMobileTitle=function(e){if(this.mobileTitleIndex===-1){return t("h5",{class:"tbody__mobile-title li-h5"}," ")}return t("h5",{class:"tbody__mobile-title li-h5"},e[this.mobileTitleIndex])};e.prototype.renderTableBodyNumberedCell=function(e){return t("td",{class:"tbody__cell tbody__cell--numbered",style:{width:this.numberColumnWidth+"px"}},t("p",{class:"li-body"},e+1))};e.prototype.renderTableBodySelectableCell=function(e){var i=this;var n={width:this.selectionColumnWidth+"px"};if(this.numbered){n.marginLeft="0px",n.paddingLeft="0px"}return t("td",{title:this.rows[e[0]],class:"tbody__cell tbody__cell--selection",style:n},t("li-checkbox",{checked:this.rows[e].selected,onLiChange:function(t){return i.toggleRowSelect(t,e)},hideLabel:true}))};e.prototype.renderTableCell=function(e,i,n,o){var r=_[e.type];var l=e.label,a=e.width,s=a===void 0?r.defaults.width||k.width:a,d=e.stretchWidth,c=d===void 0?0:d,h=e.mobileTitle;return t("td",{class:"tbody__cell".concat(h?"tbody__cell--used-as-mobil-title":""),style:{width:"calc(".concat(s,"px + ").concat(c,"px)")}},t("div",{class:"tbody__mobile-label"},l),r.render({field:e,content:i,component:this,rowIndex:n,columnIndex:o}))};e.prototype.renderTableInfo=function(){var e=this;return t("div",{class:"info"},this.selectable&&!!this.selection.length&&t("div",{class:"info__selection"},"".concat(this.selection.length," row").concat(this.selection.length>1?"s":""," selected")),this.isPagination&&t("li-pagination",{class:"info__pagination",hideBorder:!this.isMobile,startElement:this.paginationStart,totalElement:this.rows.length,pageSize:this.pageSize,"onli-pagination":function(t){var i=t.detail;return e.paginationStart=i.startElement}}))};e.prototype.resetSortingToggle=function(){if(this.activeSortingIndex>-1){this.fields[this.activeSortingIndex].sortDirection="none"}this.activeSortingIndex=-1};e.prototype.sortTable=function(e,t,i){if(e==="none"){this.rows.sort((function(e,t){return e.initialIndex-t.initialIndex}))}else{switch(_[t]&&_[t].defaults&&_[t].defaults.sortBy||k.sortBy){case"text":if(e==="ascending"){this.rows.sort((function(e,t){var n=e[i].toLowerCase();var o=t[i].toLowerCase();return n<o?-1:n>o?1:0}))}else{this.rows.sort((function(e,t){var n=e[i].toLowerCase();var o=t[i].toLowerCase();return n>o?-1:n>o?1:0}))}break;case"number":if(e==="ascending"){this.rows.sort((function(e,t){return Number(e[i])-Number(t[i])}))}else{this.rows.sort((function(e,t){return Number(t[i])-Number(e[i])}))}break}}this.forceRender++;this.triggerSortEvent(e,t,i)};e.prototype.setInitialRowProps=function(){if(!this.rows||!this.rows.length){return}this.rows.forEach((function(e,t){e.initialIndex=t;e.selected=false}));this.isPagination=this.pageSize<=this.rows.length-1};e.prototype.updateReadableSelection=function(){var e=this;var t;this.selection.length=0;this.rows.forEach((function(t){t.selected&&e.selection.push(t)}));var i=(t=this.el.shadowRoot)===null||t===void 0?void 0:t.querySelector(".thead__cell--selection li-checkbox");i.checked=!!this.selection.length};e.prototype.updateColumnStretching=function(){var e=this;if(this.needsAutoWidthParse){return}var t=this.elMainContainer;var i=t.offsetWidth-2;var n=this.lastContainerWidth!==i;if(!n&&!this.needsColumnResize){return}this.needsColumnResize=false;this.lastContainerWidth=i;if(t.offsetWidth<=500){return}var o=function(){var t=0;t+=8;if(e.numbered){t+=e.numberColumnWidth+32}if(e.selectable){t+=e.selectionColumnWidth+32;if(e.numbered){t-=16}}e.fields.forEach((function(e,i){if(e===void 0){e=true}if(e){t+=i+32}return t}))}();this.contentWidth=Math.max(o,i);var r=i-o;if(r<=0){this.fields.forEach((function(e){e.stretchWidth=0}))}else{var l=0;var a=0;this.fields.forEach((function(e,t){if(e===void 0){e=true}if(!e){return}if(typeof t==="number"){l+=t}else{a++}}));var s=Math.max(0,1-l);l=Math.max(1,l);this.fields.forEach((function(e){var t=e.visible,i=t===void 0?true:t,n=e.stretchWeight;if(!i){return}var o=0;if(typeof n==="number"){o=n/l}else if(s>0){o=s/a}e.stretchWeight=r*o}))}this.forceRender++};e.prototype.render=function(){if(this.dataNeedsCheck){this.hasData=this.checkHasData()}return t(o,{style:{display:this.visible?"block":"none"}},this.styles&&t("style",null,this.styles),t("div",{class:this.getCssClassMap()},t("div",{class:"".concat(S,"__title-block")},this.heading&&t("h4",{class:"".concat(S,"__heading li-h5")},this.heading),t("div",null,t("slot",null)),this.hasData&&this.renderSettingMenu()),this.hasData&&this.renderTable(),this.hasData&&!this.hideInfo&&!this.needsAutoWidthParse&&(this.selectable||this.isPagination)&&this.renderTableInfo()))};Object.defineProperty(e.prototype,"el",{get:function(){return r(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{fields:["fieldsHandler"],rows:["rowsHandler"]}},enumerable:false,configurable:true});return e}());W.style=C}}}));