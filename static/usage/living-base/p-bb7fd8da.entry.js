import{r as t,h as e,H as s,g as a}from"./p-8d227782.js";import{c as i}from"./p-fdf6920f.js";const r=class{constructor(e){t(this,e),this.size="small"}sizeChange(){this.propagateSizeToTabs()}connectedCallback(){this.el.hasAttribute("role")||this.el.setAttribute("role","tablist")}componentWillLoad(){}componentDidLoad(){}componentWillUpdate(){}componentDidUpdate(){}componentWillRender(){}componentShouldRender(){}componentDidRender(){Promise.all([customElements.whenDefined("li-tab-header"),customElements.whenDefined("li-tab-panel")]).then((()=>{this.linkPanels(),this.propagateSizeToTabs()}))}disconnectedCallback(){}handleClick(t){const e=t.target;"tab"===e.getAttribute("role")&&this.selectTab(e)}handleKeydown(t){let e;if("tab"===t.target.getAttribute("role")&&!t.altKey){switch(t.key){case"ArrowLeft":e=this.getPreviousTab();break;case"ArrowRight":e=this.getNextTab();break;case"Home":e=this.getFirstTab();break;case"End":e=this.getLastTab();break;default:return}t.preventDefault(),this.selectTab(e)}}findPanelForTab(t){const e=t.getAttribute("aria-controls");return this.el.querySelector(`#${e}`)}getAllTabs(){return Array.from(this.el.querySelectorAll("li-tab-header"))}getAllEnabledTabs(){return Array.from(this.el.querySelectorAll("li-tab-header:not([disabled])"))}getAllPanels(){return Array.from(this.el.querySelectorAll("li-tab-panel"))}getBasePartMap(){return this.getCssOrBasePartMap("basePart")}getCssClassMap(){return this.getCssOrBasePartMap("css")}getCssOrBasePartMap(t){return i("tab-nav","small"===this.size&&("basePart"===t?"":"tab-nav--")+"small")}getFirstTab(){return this.getAllEnabledTabs()[0]}getLastTab(){const t=this.getAllEnabledTabs();return t[t.length-1]}getNextTab(){const t=this.getAllEnabledTabs(),e=t.findIndex((t=>t.selected))+1;return t[e%t.length]}getPreviousTab(){const t=this.getAllEnabledTabs(),e=t.findIndex((t=>t.selected))-1;return t[(e+t.length)%t.length]}linkPanels(){const t=this.getAllEnabledTabs(),e=t.find((t=>t.selected))||t[0];t.forEach((t=>{const e=t.nextElementSibling;t.setAttribute("aria-controls",null==e?void 0:e.id),null==e||e.setAttribute("aria-labelledby",t.id)})),this.selectTab(e)}propagateSizeToTabs(){const t="small"===this.size?"setAttribute":"removeAttribute",e=this.getAllTabs(),s=this.getAllPanels();e.forEach((e=>e[t]("size","small"))),s.forEach((e=>e[t]("size","small")))}reset(){const t=this.getAllEnabledTabs(),e=this.getAllPanels();t.forEach((t=>t.selected=!1)),e.forEach((t=>t.hidden=!0))}selectTab(t){const e=this.findPanelForTab(t);this.reset(),e.hidden=!1,t.selected=!0}render(){return e(s,null,this.styles&&e("style",null,this.styles),e("div",{part:this.getBasePartMap(),class:this.getCssClassMap()},e("slot",{name:"tab"}),e("slot",{name:"panel"})))}get el(){return a(this)}static get watchers(){return{size:["sizeChange"]}}};r.style=":host{--tab-height:var(--li-token-spacing-unit-x10);--tab-spacing:var(--li-token-spacing-unit-x6);--tab-radius:var(--li-token-radius-small);--tab-border-size:var(--li-token-line-weight-highlight);--tab-border-size-selected:var(--li-token-line-weight-bold);--tab-border-color:var(--li-token-color-ui-subtle)}";export{r as li_tab_nav}